<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pix com chave</title>
    <link rel="stylesheet" href="pixComChave.css">
        <link rel="stylesheet" href="controllerStyle.css">


</head>
<body onload="start()" class= "body">
    <!--img class="guia" src="img/imgPixComChave/guia1.jpg" alt=""--> 
    <div class="volta" onclick="window.location.href='pagarComPix.html'"></div>   

    <div class="main">
        <main>
            <img src="img/imgPixComChave/pixChave_0002_Camada-2.png" alt="">
            <div class="contianerChave" onclick="radio('1')">
                <span>
                    <p>CPF/CNPJ</p>
                    <img id="radioNoCheck1" class="imgSize noCheck" src="img/imgPixComChave/pixChave_0000_Camada-4.png" alt="">
                    <img id="radioCheck1" class="imgSize check" src="img/imgPixComChave/pixChave_0001_Camada-3.png" alt="">
                </span>
                <input maxlength="14"  oninput="atvBtn()" class="inputs" id="inputs1" type="text" placeholder="CPF/CNPJ de quem irá receber" onkeydown="fMasc( this, mCPF );">
            </div>
            <div class="contianerChave" onclick="radio('2')">
                <span>
                    <p>Celular</p>
                    <img id="radioNoCheck2" class="imgSize noCheck" src="img/imgPixComChave/pixChave_0000_Camada-4.png" alt="">
                    <img id="radioCheck2" class="imgSize check" src="img/imgPixComChave/pixChave_0001_Camada-3.png" alt="">
                </span>
                <input maxlength="16"  oninput="atvBtn()" class="inputs" id="inputs2" type="text"placeholder="Celular de quem irá receber" onkeydown="fMasc( this, mCelular );">
            </div>
            <div class="contianerChave" onclick="radio('3')">
                <span>
                    <p>E-mail</p>
                    <img id="radioNoCheck3" class="imgSize noCheck" src="img/imgPixComChave/pixChave_0000_Camada-4.png" alt="">
                    <img id="radioCheck3" class="imgSize check" src="img/imgPixComChave/pixChave_0001_Camada-3.png" alt="">
                </span>
                <input  oninput="atvBtn()" class="inputs" id="inputs3" type="text" placeholder="E-mail de quem irá receber">
            </div>
            <div class="contianerChave" onclick="radio('4')">
                <span>
                    <p>Aleatória</p>
                    <img id="radioNoCheck4" class="imgSize noCheck" src="img/imgPixComChave/pixChave_0000_Camada-4.png" alt="">
                    <img id="radioCheck4" class="imgSize check" src="img/imgPixComChave/pixChave_0001_Camada-3.png" alt="">
                </span>
                <input  oninput="atvBtn()" class="inputs" id="inputs4" type="text" placeholder="Chave Aleatória de quem irá receber">
            </div>
        </main>

        <p id="tipoDechave"></p>
        
        <footer>
            <button onclick="continuar()" id="btn">continuar</button>
        </footer>
    </div>

    <script src="controllerSizeImg.js"></script>
    <script src="formatInput.js"></script>
    <script>
        let tipoDeChave = localStorage.getItem("tipoDeChave");

        //setar os inputs entro de variaveis
        let inpt_cpf = document.getElementById("inputs1")
        let inpt_celular = document.getElementById("inputs2")
        let inpt_email = document.getElementById("inputs3")
        let inpt_aleatoria = document.getElementById("inputs4")

        //ativer btn
        
        function atvBtn() {
            document.getElementById("btn").style.color = "white"
            document.getElementById("btn").style.backgroundImage = "linear-gradient(90deg, #ff520e, #ff8500)"
        }


        function radio(number){

            if (number == "1") {
                tipoDeChave = "Chave de CPF"
            }
            else if (number == "2") {
                tipoDeChave = "Chave de Celular"
            }
            else if (number == "3") {
                tipoDeChave = "Chave de E-mail"
            }
            else if (number == "4") {
                tipoDeChave = "Chave Aleatória"
            }


            let iconsCheck = document.querySelectorAll(".check")
            let iconsNoCheck = document.querySelectorAll(".noCheck")
            let inputs = document.querySelectorAll(".inputs")

            for (let i = 0; i < 4; i++) {
                iconsCheck[i].style.display = "none"
                iconsNoCheck[i].style.display = "block"
                inputs[i].style.display = "none"
        
            }

            document.getElementById("radioCheck" + number).style.display = "block"
            document.getElementById("radioNoCheck" + number).style.display = "none"
            document.getElementById("inputs" + number).style.display = "block"
            
        }

        function continuar() {
            localStorage.setItem("tipoDeChave", tipoDeChave);
            

            //ler o input corespondente ao tipo de chave
            if (tipoDeChave == "Chave de CPF") {
                localStorage.setItem("chave", inpt_cpf.value);
            }
            else if(tipoDeChave == "Chave de Celular"){
                localStorage.setItem("chave", inpt_celular.value);

            }
            else if(tipoDeChave == "Chave de E-mail"){
                localStorage.setItem("chave", inpt_email.value);

            }
            else if(tipoDeChave == "Chave Aleatória"){
                localStorage.setItem("chave", inpt_aleatoria.value);

            }

            window.location.href='pixComChave2.html'
        }
    </script>
    <script src="controller.js"></script>
</body>
</html>